(this["webpackJsonpmemory-game"]=this["webpackJsonpmemory-game"]||[]).push([[0],{13:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),s=n(3),o=n.n(s),a=n(0),i=function(e){var t=e.handleClick,n=e.flippedCards,r=e.matchedCards,c=e.cardsToRender;return Object(a.jsx)("div",{className:"cards",children:c.map((function(e,c){return Object(a.jsx)("div",{className:"card-wrapper",onClick:function(){return t(c)},children:Object(a.jsxs)("div",{className:n.some((function(e){return e===c}))||r.some((function(e){return e===c}))?"card-inner flipped":"card-inner",children:[Object(a.jsx)("div",{className:"card-front",children:Object(a.jsx)("img",{src:e.sprite,alt:e.pokemonName})}),Object(a.jsx)("div",{className:"card-back"})]})},c)}))})},l=function(e){var t=e.numberOfCards,n=e.cardsToRender,r=e.handleClick,s=e.flippedCards,o=e.matchedCards;return Object(a.jsx)(c.a.Fragment,{children:n.length===t?Object(a.jsx)(i,{cardsToRender:n,numberOfCards:t,handleClick:r,flippedCards:s,matchedCards:o}):Object(a.jsx)("div",{className:"loading-message",children:"Loading cards..."})})},d=function(e){var t=e.toggleModal,n=e.userMoves,r=e.clearAll;return Object(a.jsxs)("nav",{children:[Object(a.jsxs)("div",{className:"score",children:[Object(a.jsx)("span",{className:"label",children:"Moves:"}),Object(a.jsx)("span",{className:"moves",children:n})]}),Object(a.jsx)("div",{className:"reset",onClick:function(){return r()},children:Object(a.jsx)("span",{className:"material-icons",children:"restart_alt"})}),Object(a.jsx)("div",{className:"menu",onClick:t,children:Object(a.jsx)("span",{className:"material-icons",children:"settings"})})]})},u=n(2),j=function(){var e=Object(r.useState)(!1),t=Object(u.a)(e,2),n=t[0],c=t[1],s=Object(r.useState)([]),o=Object(u.a)(s,2),a=o[0],i=o[1],l=Object(r.useState)(12),d=Object(u.a)(l,2),j=d[0],m=d[1],f=Object(r.useState)("1,151"),b=Object(u.a)(f,2),h=b[0],O=b[1],g=function(){var e=h.split(","),t=Object(u.a)(e,2),n=t[0],r=t[1];n=parseInt(n),r=parseInt(r);for(var c=new Array(r-n+1),s=0;s<c.length;s++)c[s]=n+s;!function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*t),r=e[t];e[t]=e[n],e[n]=r}}(c);var o=c.slice(0,j/2);i((function(){return o}))};Object(r.useEffect)((function(){g()}),[j,h]);return{numberOfCards:j,incrementCards:function(){j<28&&m((function(e){return e+4}))},decrementCards:function(){j>4&&m((function(e){return e-4}))},isVisible:n,toggleModal:function(){c(!n)},getGen:function(e){O(e)},getIds:g,generation:h,monsToRender:a}},m=n(7),f=function(e){var t,n=e.pokemons,c=e.addToMoves,s=e.resetMoves,o=e.userMoves,a=e.storeScore,i=Object(r.useState)([]),l=Object(u.a)(i,2),d=l[0],j=l[1],f=Object(r.useState)([]),b=Object(u.a)(f,2),h=b[0],O=b[1],g=Object(r.useState)(!1),p=Object(u.a)(g,2),v=p[0],x=p[1];Object(r.useEffect)((function(){2===d.length&&C(d)}),[d]),Object(r.useEffect)((function(){h.length>1&&h.length===n.length&&(a(o),setTimeout((function(){S()}),1500))}),[h,n.length]);var C=function(e){var r=Object(u.a)(e,2),c=r[0],s=r[1];n[c].pokemonId===n[s].pokemonId?O((function(e){return[].concat(Object(m.a)(e),[c,s])})):t=setTimeout((function(){j((function(){return[]}))}),1800)},S=function(){x(!v)};return{flippedCards:d,matchedCards:h,handleClick:function(e){d.some((function(t){return t===e}))||h.some((function(t){return t===e}))||(1===d.length?(j((function(t){return[].concat(Object(m.a)(t),[e])})),c()):(j((function(){return[e]})),c(),clearTimeout(t)))},clearCards:function(){var e=document.querySelector(".reset").querySelector("span");e.style.transform="rotate(-360deg)",e.ontransitionend=function(){return e.style.transform="rotate(0deg)"},j((function(){return[]})),O((function(){return[]})),s()},toggleScoreModal:S,scoreVisible:v}},b=function(e){var t=Object(r.useState)(0),n=Object(u.a)(t,2),c=n[0],s=n[1];return{userMoves:c,addToMoves:function(){s((function(e){return e+1}))},resetMoves:function(){s((function(){return 0}))},storeScore:function(t){var n={};if(null!==localStorage.getItem("Highscores")){if(n=localStorage.getItem("Highscores"),void 0===(n=JSON.parse(n))[e])n[e]=t,localStorage.setItem("Highscores",JSON.stringify(n));else if(void 0!==n[e]){n[e]>t&&(n[e]=t,localStorage.setItem("Highscores",JSON.stringify(n)))}}else n[e]=t,localStorage.setItem("Highscores",JSON.stringify(n))},getHighScore:function(){var t=localStorage.getItem("Highscores");return(t=JSON.parse(t))[e]}}},h=function(e){var t=e.isVisible,n=e.toggleModal,r=e.decrementCards,c=e.incrementCards,o=e.numberOfCards,i=e.getGen,l=e.generation,d=e.clearAll;return t?s.createPortal(Object(a.jsx)("div",{className:"modal-wrapper",children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("h3",{children:"Number of Pok\xe9mons"}),Object(a.jsxs)("div",{className:"number-of-cards",children:[Object(a.jsx)("span",{onClick:function(){r(),d()},className:"material-icons",children:"remove"}),Object(a.jsx)("span",{className:"number-of-mons",children:o.toString()}),Object(a.jsx)("span",{onClick:function(){c(),d()},className:"material-icons",children:"add"})]}),Object(a.jsx)("h3",{children:"Choose your region"}),Object(a.jsxs)("select",{name:"region-picker",id:"region",onChange:function(e){i(e.target.value),d()},defaultValue:l,children:[Object(a.jsx)("option",{value:"1,151",children:"Kanto"}),Object(a.jsx)("option",{value:"152,251",children:"Johto"}),Object(a.jsx)("option",{value:"252,386",children:"Hoenn"}),Object(a.jsx)("option",{value:"387,493",children:"Sinnoh"}),Object(a.jsx)("option",{value:"494,649",children:"Unova"}),Object(a.jsx)("option",{value:"650,721",children:"Kalos"}),Object(a.jsx)("option",{value:"722, 809",children:"Alola"}),Object(a.jsx)("option",{value:"810,898",children:"Galar"})]}),Object(a.jsx)("button",{onClick:n,children:"OK"})]})}),document.querySelector("#modal")):null},O=function(e){var t=e.toggle,n=e.isVisible,r=e.score,c=e.getHighScore,o=e.clearAll;return n?s.createPortal(Object(a.jsx)("div",{className:"modal-wrapper",children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("h3",{children:"Congratulations!"}),Object(a.jsxs)("div",{className:"message-wrapper",children:[Object(a.jsx)("p",{children:"You got all the pairs in"}),Object(a.jsx)("strong",{children:r}),Object(a.jsx)("p",{children:"moves."}),Object(a.jsx)("br",{}),Object(a.jsxs)("p",{children:["Your personal best is ",Object(a.jsx)("b",{children:c()})," moves"]})]}),Object(a.jsx)("button",{onClick:function(){t(),o()},children:"OK"})]})}),document.querySelector("#modal")):null};var g=function(){var e=j(),t=e.isVisible,n=e.toggleModal,s=e.getGen,o=e.getIds,i=e.monsToRender,m=e.numberOfCards,g=e.incrementCards,p=e.decrementCards,v=e.generation,x=function(e){var t=Object(r.useState)([]),n=Object(u.a)(t,2),c=n[0],s=n[1],o=function(){var t=[];e.forEach((function(n,r){fetch("https://pokeapi.co/api/v2/pokemon/".concat(n)).then((function(e){return e.json()})).then((function(e){var n={pokemonName:e.name+"_1",pokemonId:e.id,sprite:"".concat(e.sprites.front_default)},r={pokemonName:e.name+"_2",pokemonId:e.id,sprite:"".concat(e.sprites.front_default)};return t.push(n,r),t})).then((function(t){t.length===2*e.length&&(t.sort((function(){return Math.random()-.5})),s((function(){return t})))})).catch((function(e){return console.log(e)}))}))};return Object(r.useEffect)((function(){o()}),[e]),{pokemons:c,refreshPokemons:o}}(i),C=x.pokemons,S=x.refreshPokemons,k=b(m),N=k.userMoves,M=k.addToMoves,I=k.resetMoves,y=k.getHighScore,T=b(m).storeScore,H=f({pokemons:C,addToMoves:M,resetMoves:I,userMoves:N,storeScore:T}),V=H.flippedCards,A=H.matchedCards,J=H.handleClick,w=H.clearCards,E=H.toggleScoreModal,R=H.scoreVisible,G=function(){o(),S(),I(),w()};return Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(l,{numberOfCards:m,cardsToRender:C,handleClick:J,flippedCards:V,matchedCards:A}),Object(a.jsx)(d,{toggleModal:n,userMoves:N,clearAll:G}),Object(a.jsx)(h,{numberOfCards:m,incrementCards:g,decrementCards:p,isVisible:t,toggleModal:n,getGen:s,generation:v,clearAll:G}),Object(a.jsx)(O,{toggle:E,isVisible:R,score:N,clearAll:G,getHighScore:y})]})};o.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(g,{})}),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.fa75e42e.chunk.js.map