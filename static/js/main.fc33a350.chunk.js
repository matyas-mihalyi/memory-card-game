(this["webpackJsonpmemory-game"]=this["webpackJsonpmemory-game"]||[]).push([[0],{13:function(e,n,t){"use strict";t.r(n);var r=t(1),c=t.n(r),s=t(3),o=t.n(s),a=t(0),i=function(e){var n=e.handleClick,t=e.flippedCards,r=e.matchedCards,c=e.cardsToRender;return Object(a.jsx)("div",{className:"cards",children:c.map((function(e,c){return Object(a.jsx)("div",{className:"card-wrapper",onClick:function(){return n(c)},children:Object(a.jsxs)("div",{className:t.some((function(e){return e===c}))||r.some((function(e){return e===c}))?"card-inner flipped":"card-inner",children:[Object(a.jsx)("div",{className:"card-front",children:Object(a.jsx)("img",{src:e.sprite,alt:e.pokemonName})}),Object(a.jsx)("div",{className:"card-back"})]})},c)}))})},l=function(e){var n=e.numberOfCards,t=e.cardsToRender,r=e.handleClick,s=e.flippedCards,o=e.matchedCards;return Object(a.jsx)(c.a.Fragment,{children:t.length===n?Object(a.jsx)(i,{cardsToRender:t,numberOfCards:n,handleClick:r,flippedCards:s,matchedCards:o}):Object(a.jsx)("div",{className:"loading-message",children:"Loading cards..."})})},d=function(e){var n=e.toggleModal,t=e.userMoves,r=e.refreshPokemons,c=e.clearCards;return Object(a.jsxs)("nav",{children:[Object(a.jsxs)("div",{className:"score",children:[Object(a.jsx)("span",{className:"label",children:"Moves:"}),Object(a.jsx)("span",{className:"moves",children:t})]}),Object(a.jsx)("div",{className:"reset",onClick:function(){c(),r()},children:Object(a.jsx)("span",{className:"material-icons",children:"restart_alt"})}),Object(a.jsx)("div",{className:"menu",onClick:n,children:Object(a.jsx)("span",{className:"material-icons",children:"settings"})})]})},u=t(2),j=function(e){for(var n=e.length-1;n>0;n--){var t=Math.floor(Math.random()*n),r=e[n];e[n]=e[t],e[t]=r}},m=t(7),f=function(e){var n,t=e.pokemons,c=e.addToMoves,s=e.resetMoves,o=e.userMoves,a=e.storeScore,i=Object(r.useState)([]),l=Object(u.a)(i,2),d=l[0],j=l[1],f=Object(r.useState)([]),b=Object(u.a)(f,2),h=b[0],O=b[1],g=Object(r.useState)(!1),p=Object(u.a)(g,2),v=p[0],x=p[1];Object(r.useEffect)((function(){2===d.length&&C(d)}),[d]),Object(r.useEffect)((function(){h.length>1&&h.length===t.length&&(a(o),setTimeout((function(){S()}),1500))}),[h,t.length]);var C=function(e){var r=Object(u.a)(e,2),c=r[0],s=r[1];t[c].pokemonId===t[s].pokemonId?O((function(e){return[].concat(Object(m.a)(e),[c,s])})):n=setTimeout((function(){j((function(){return[]}))}),1800)},S=function(){x(!v)};return{flippedCards:d,matchedCards:h,handleClick:function(e){d.some((function(n){return n===e}))||h.some((function(n){return n===e}))||(1===d.length?(j((function(n){return[].concat(Object(m.a)(n),[e])})),c()):(j((function(){return[e]})),c(),clearTimeout(n)))},clearCards:function(){var e=document.querySelector(".reset").querySelector("span");e.style.transform="rotate(-360deg)",e.ontransitionend=function(){return e.style.transform="rotate(0deg)"},j((function(){return[]})),O((function(){return[]})),s()},toggleScoreModal:S,scoreVisible:v}},b=function(e){var n=Object(r.useState)(0),t=Object(u.a)(n,2),c=t[0],s=t[1];return{userMoves:c,addToMoves:function(){s((function(e){return e+1}))},resetMoves:function(){s((function(){return 0}))},storeScore:function(n){var t={};if(null!==localStorage.getItem("Highscores")){if(t=localStorage.getItem("Highscores"),void 0===(t=JSON.parse(t))[e])t[e]=n,localStorage.setItem("Highscores",JSON.stringify(t));else if(void 0!==t[e]){t[e]>n&&(t[e]=n,localStorage.setItem("Highscores",JSON.stringify(t)))}}else t[e]=n,localStorage.setItem("Highscores",JSON.stringify(t))},getHighScore:function(){var n=localStorage.getItem("Highscores");return(n=JSON.parse(n))[e]}}},h=function(e){var n=e.isVisible,t=e.toggleModal,r=e.decrementCards,c=e.incrementCards,o=e.numberOfCards,i=e.getGen,l=e.generation,d=e.clearAll;return n?s.createPortal(Object(a.jsx)("div",{className:"modal-wrapper",children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("h3",{children:"Number of Pok\xe9mons"}),Object(a.jsxs)("div",{className:"number-of-cards",children:[Object(a.jsx)("span",{onClick:function(){r(),d()},className:"material-icons",children:"remove"}),Object(a.jsx)("span",{className:"number-of-mons",children:o.toString()}),Object(a.jsx)("span",{onClick:function(){c(),d()},className:"material-icons",children:"add"})]}),Object(a.jsx)("h3",{children:"Choose your region"}),Object(a.jsxs)("select",{name:"region-picker",id:"region",onChange:function(e){i(e.target.value),d()},defaultValue:l,children:[Object(a.jsx)("option",{value:"1,151",children:"Kanto"}),Object(a.jsx)("option",{value:"152,251",children:"Johto"}),Object(a.jsx)("option",{value:"252,386",children:"Hoenn"}),Object(a.jsx)("option",{value:"387,493",children:"Sinnoh"}),Object(a.jsx)("option",{value:"494,649",children:"Unova"}),Object(a.jsx)("option",{value:"650,721",children:"Kalos"}),Object(a.jsx)("option",{value:"722, 809",children:"Alola"}),Object(a.jsx)("option",{value:"810,898",children:"Galar"})]}),Object(a.jsx)("button",{onClick:t,children:"OK"})]})}),document.querySelector("#modal")):null},O=function(e){var n=e.toggle,t=e.isVisible,r=e.score,c=e.getHighScore,o=e.clearAll;return t?s.createPortal(Object(a.jsx)("div",{className:"modal-wrapper",children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("h3",{children:"Congratulations!"}),Object(a.jsxs)("div",{className:"message-wrapper",children:[Object(a.jsx)("p",{children:"You got all the pairs in"}),Object(a.jsx)("strong",{children:r}),Object(a.jsx)("p",{children:"moves."}),Object(a.jsx)("br",{}),Object(a.jsxs)("p",{children:["Your personal best is ",Object(a.jsx)("b",{children:c()})," moves"]})]}),Object(a.jsx)("button",{onClick:function(){n(),o()},children:"OK"})]})}),document.querySelector("#modal")):null};var g=function(){var e=function(){var e=Object(r.useState)(!1),n=Object(u.a)(e,2),t=n[0],c=n[1],s=Object(r.useState)([]),o=Object(u.a)(s,2),a=o[0],i=o[1],l=Object(r.useState)(12),d=Object(u.a)(l,2),m=d[0],f=d[1],b=Object(r.useState)("1,151"),h=Object(u.a)(b,2),O=h[0],g=h[1];Object(r.useEffect)((function(){p(O)}),[m,O]);var p=function(e){var n=e.split(","),t=Object(u.a)(n,2),r=t[0],c=t[1];r=parseInt(r),c=parseInt(c);for(var s=new Array(c-r+1),o=0;o<s.length;o++)s[o]=r+o;j(s);var a=s.slice(0,m/2);i((function(){return a}))};return{numberOfCards:m,incrementCards:function(){m<28&&f((function(e){return e+4}))},decrementCards:function(){m>4&&f((function(e){return e-4}))},isVisible:t,toggleModal:function(){c(!t)},getGen:function(e){g(e)},getIds:p,generation:O,monsToRender:a}}(),n=e.isVisible,t=e.toggleModal,s=e.getGen,o=e.monsToRender,i=e.numberOfCards,m=e.incrementCards,g=e.decrementCards,p=e.generation,v=function(e){var n=Object(r.useState)([]),t=Object(u.a)(n,2),c=t[0],s=t[1],o=function(){var n=[];e.forEach((function(t,r){fetch("https://pokeapi.co/api/v2/pokemon/".concat(t)).then((function(e){return e.json()})).then((function(e){var t={pokemonName:e.name+"_1",pokemonId:e.id,sprite:"".concat(e.sprites.front_default)},r={pokemonName:e.name+"_2",pokemonId:e.id,sprite:"".concat(e.sprites.front_default)};return n.push(t,r),n})).then((function(n){n.length===2*e.length&&(n.sort((function(){return Math.random()-.5})),s((function(){return n})))})).catch((function(e){return console.log(e)}))}))};return Object(r.useEffect)((function(){o()}),[e]),{pokemons:c,refreshPokemons:o}}(o),x=v.pokemons,C=v.refreshPokemons,S=b(i),k=S.userMoves,N=S.addToMoves,M=S.resetMoves,y=S.getHighScore,I=b(i).storeScore,T=f({pokemons:x,addToMoves:N,resetMoves:M,userMoves:k,storeScore:I}),H=T.flippedCards,V=T.matchedCards,J=T.handleClick,w=T.clearCards,P=T.toggleScoreModal,A=T.scoreVisible,E=function(){C(),M(),w()};return Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(l,{numberOfCards:i,cardsToRender:x,handleClick:J,flippedCards:H,matchedCards:V}),Object(a.jsx)(d,{toggleModal:t,userMoves:k,refreshPokemons:C,clearCards:w}),Object(a.jsx)(h,{numberOfCards:i,incrementCards:m,decrementCards:g,isVisible:n,toggleModal:t,getGen:s,generation:p,clearAll:E}),Object(a.jsx)(O,{toggle:P,isVisible:A,score:k,clearAll:E,getHighScore:y})]})};o.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(g,{})}),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.fc33a350.chunk.js.map